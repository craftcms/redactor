var plugin=$.extend({},Craft.Redactor.PluginBase,{start:function(){},showModal:function(arguments){this.app.selection.save();var e="selectionModal_"+arguments.refHandle;if(void 0===this[e]){var t=arguments.refHandle;this[e]=Craft.createElementSelectorModal(arguments.elementType,{storageKey:"RedactorInput.LinkTo."+arguments.elementType,sources:arguments.sources,criteria:$.extend({siteId:this.elementSiteId},arguments.criteria),onSelect:$.proxy(function(e){if(e.length){this.app.selection.restore();var i=e[0],n=this.app.selection.getText(),r={url:i.url+"#"+t+":"+i.id,text:n.length>0?n:i.label};this.app.api("module.link.insert",r)}},this),closeOtherModals:!1})}else this[e].show()},setLinkOptions:function(e){var t=this.app.toolbar.getButton("link"),i=t.getDropdown().items,n={},r=0;for(var o in e)o=e[o],n["custom"+ ++r]={title:o.optionTitle,api:"plugin.craftEntryLinks.showModal",args:{elementType:o.elementType,refHandle:o.refHandle,sources:o.sources,criteria:o.criteria}};t.setDropdown($.extend(n,i))}});Redactor.add("plugin","craftEntryLinks",plugin);
//# sourceMappingURL=CraftEntryLinks.min.js.map
